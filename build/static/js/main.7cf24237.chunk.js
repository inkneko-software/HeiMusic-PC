(this.webpackJsonpheimusic_pc=this.webpackJsonpheimusic_pc||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),l=a(10),s=a.n(l);a(99),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(11),o=a(12),c=a(14),m=a(13),u=(a(100),a(115)),d=a(172),h=a(166),p=a(165),v=a(157),b=a(174),y=a(159),f=a(163),g=a(162),k=a(158),E=a(160),C=a(161),w=a(41),_=a.n(w),O=(a(101),window.require("electron").remote.require("./heiMusicConfig")),N=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).tid=e.tid,i.loginUser="qq",void 0===i.loginUser&&(i.loginUser=0),i.headers=[{id:"name",label:"\u6b4c\u66f2",width:"40%"},{id:"singer",label:"\u6b4c\u624b",width:"30%"},{id:"album",label:"\u4e13\u8f91",width:"30%"}],i.state={albumInfo:{tid:null,name:"\u52a0\u8f7d\u4e2d",ptid:null,pic:null,listen_num:"---",create_time:null,cur_song_num:null,total_song_num:null},musicList:[]},i}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return null===this.tid?n.a.createElement("div",{className:"empty-page"},n.a.createElement("div",{className:"empty-page-text"},"\u58a8\u732b\u97f3\u4e50\u5ba2\u6237\u7aef")):n.a.createElement("div",{className:"music-list-display"},n.a.createElement("div",{className:"diss-info"},n.a.createElement(b.a,{className:"album-cover",variant:"square",src:this.state.albumInfo.pic},n.a.createElement(_.a,{style:{fontSize:72}})),n.a.createElement("div",{className:"album-brief"},n.a.createElement("div",{className:"album-brief-name"},this.state.albumInfo.name),n.a.createElement("div",{className:"album-brief-listen-num"},"\u64ad\u653e\u91cf "+this.state.albumInfo.listen_num),n.a.createElement("div",{className:"ablum-brief-tool-bar"},n.a.createElement(v.a,{className:"album-brief-tool-bar-btn album-brief-tool-bar-play",onClick:this.state.musicList.length>0?this.PostPlayEvent.bind(this,0):function(){}},"\u64ad\u653e\u5168\u90e8"),n.a.createElement(v.a,{className:"album-brief-tool-bar-btn"},"\u4e0b\u8f7d")))),n.a.createElement("div",{className:"song-list"},n.a.createElement(k.a,{className:"song-list-table-container"},n.a.createElement(y.a,{stickyHeader:!0,"aria-label":"sticky table",className:"song-list-table"},n.a.createElement(E.a,null,n.a.createElement(C.a,null,this.headers.map((function(e){return n.a.createElement(g.a,{key:e.id,align:e.align,style:{maxWidth:e.width}},e.label)})))),n.a.createElement(f.a,{className:"song-list-table-body"},this.state.musicList.map((function(t,a){return n.a.createElement(C.a,{hover:!0,role:"checkbox",tabIndex:-1,key:t.mid,onDoubleClick:e.PostPlayEvent.bind(e,a)},n.a.createElement(g.a,{style:{maxWidth:"40%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},key:1,align:"left",title:t.song_name},n.a.createElement("a",{onClick:e.PostPlayEvent.bind(e,a),className:"music-list-songname-clickable"},t.song_name)),n.a.createElement(g.a,{style:{maxWidth:"30%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},key:2,align:"left",title:t.singer},t.singer),n.a.createElement(g.a,{style:{maxWidth:"30%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},key:3,align:"left",title:t.album_name},t.album_name))})))))))}},{key:"componentDidMount",value:function(){var e=window.require("http");if(null!==this.tid){var t={host:"music.inkneko.com",port:80,method:"GET",headers:{"User-Agent":O.client_ua},path:"/api/v1/getCollection?id=".concat(this.tid,"&loginUin=").concat(this.loginUser)},a=function(e){var t="";e.on("data",(function(e){t+=e})),e.on("end",function(){var e=JSON.parse(t);console.log(e);var a=e,i="http://music.inkneko.com/".concat(e.cover_url);"\u6211\u559c\u6b22"===a.dissname&&(i="https://y.gtimg.cn/mediastyle/global/img/cover_like.png"),this.setState({albumInfo:{tid:e.collection_id,name:e.name,pic:i,listen_num:0,create_time:0,cur_song_num:1,total_song_num:e.music_nums}});for(var n=[],l=0;l<a.list.length;++l){var s=[];s.push("nao");var r={mid:a.list[l].music_id,song_name:a.list[l].music_name,singer:s.join("/"),album_name:a.list[l].album_name,album_pmid:null,file:{media_fid:a.list[l].media_list.media_id,size_128mp3:a.list[l].media_list.mp3_320k,size_320mp3:a.list[l].media_list.mp3_128k,size_flac:a.list[l].media_list.media_flac}};console.log(a.list[l].media_list.media_id),n.push(r)}this.setState({musicList:n})}.bind(this))}.bind(this);e.request(t,a).end()}}},{key:"PostPlayEvent",value:function(e){var t=new Event("MusicPlayerListener");t.tid=this.tid,t.index=e,t.list=this.state.musicList,window.dispatchEvent(t)}}]),a}(n.a.Component),x=(a(106),window.require("electron").remote.require("./heiMusicConfig")),P=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).currentSelectedBtnId=null,i.tid=null,i.state={userCollectionList:[]},i}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"left-panel-logo-wrap"},n.a.createElement("img",{className:"left-panel-logo",src:"logo.jpg"}),n.a.createElement("div",{className:"left-panel-appname"},"HeiMusic!")),n.a.createElement(d.a,{classes:{root:"panel"},elevation:0,expanded:!0},n.a.createElement(p.a,{classes:{root:"panel-summary",content:"panel-summary-text"}},n.a.createElement(u.a,{classes:{root:"panel-summary-text"}},"\u6211\u7684\u97f3\u4e50")),n.a.createElement(h.a,{classes:{root:"panel-detail"}},n.a.createElement(v.a,{classes:{root:"panel-button",label:"panel-button-content"},id:"songlist-uid",onClick:this.ListBtnOnclick.bind(this,"uid")},"\u6211\u559c\u6b22\u7684\u97f3\u4e50"),n.a.createElement(v.a,{classes:{root:"panel-button",label:"panel-button-content"},id:2},"\u4e0b\u8f7d\u7ba1\u7406"),n.a.createElement(v.a,{classes:{root:"panel-button",label:"panel-button-content"},id:3},"\u8bbe\u7f6e"))),n.a.createElement(d.a,{classes:{root:"panel"},elevation:0,className:"panel-music-list",defaultExpanded:!0},n.a.createElement(p.a,{classes:{root:"panel-summary",content:"panel-summary-text"}},n.a.createElement(u.a,{classes:{root:"panel-summary-text"}},"\u521b\u5efa\u7684\u6b4c\u5355")),n.a.createElement(h.a,{classes:{root:"panel-detail"},className:"panel-music-list-details"},this.state.userCollectionList.map((function(t,a){var i=t.collection_id,l=t.name;t.title;return n.a.createElement(v.a,{classes:{root:"panel-button",label:"panel-button-content"},id:"songlist-".concat(i),onClick:e.ListBtnOnclick.bind(e,i)},l)})))))}},{key:"componentDidMount",value:function(){s.a.render(n.a.createElement(N,{tid:this.tid}),document.getElementById("display-browser"));var e=window.require("http"),t={host:"music.inkneko.com",port:80,method:"GET",headers:{"User-Agent":x.client_ua},path:"/api/v1/getCollectionList"},a=function(e){var t="";e.on("data",(function(e){t+=e})),e.on("end",function(){var e=JSON.parse(t);this.setState({userCollectionList:e.collections})}.bind(this))}.bind(this);e.request(t,a).end()}},{key:"ListBtnOnclick",value:function(e){if(e!==this.currentSelectedBtnId){if(null!==this.currentSelectedBtnId)document.getElementById("songlist-"+this.currentSelectedBtnId).classList.remove("panel-button-selected");document.getElementById("songlist-"+e).classList.add("panel-button-selected"),this.currentSelectedBtnId=e,s.a.unmountComponentAtNode(document.getElementById("display-browser")),s.a.render(n.a.createElement(N,{tid:e}),document.getElementById("display-browser"))}}},{key:"RenderMusicListDisplay",value:function(e){this.setState({tid:e})}}]),a}(n.a.Component),S=a(114),j=a(76),I=a.n(j),F=a(75),M=a.n(F),L=a(57),q=a.n(L),B=a(77),z=a.n(B),R=(a(107),window.require("electron").ipcRenderer),H=(window.require("electron").ipcMain,function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).windowMode="normal",i.state={maximizeIcon:n.a.createElement(q.a,null)},i.onCloseMinimized=!0,i}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"top-system-menu-content"},n.a.createElement(S.a,{onClick:this.MinimizeOnclick.bind(this)},n.a.createElement(M.a,null)),n.a.createElement(S.a,{onClick:this.MaximizeOnlick.bind(this)},this.state.maximizeIcon),n.a.createElement(S.a,{onClick:this.CloseOnclick.bind(this)},n.a.createElement(I.a,null)))}},{key:"componentDidMount",value:function(){var e=this;R.on("window-change-callback",(function(t,a){switch(a.action){case"maximize":e.setState({maximizeIcon:n.a.createElement(z.a,null)}),e.windowMode="maximize";break;case"restore":e.setState({maximizeIcon:n.a.createElement(q.a,null)}),e.windowMode="normal"}}))}},{key:"IPCWindowControl",value:function(e){R.send("window-control",{action:e})}},{key:"CloseOnclick",value:function(){!0===this.onCloseMinimized?this.IPCWindowControl("hide"):this.IPCWindowControl("quit")}},{key:"MinimizeOnclick",value:function(){this.IPCWindowControl("minimize")}},{key:"MaximizeOnlick",value:function(){"normal"==this.windowMode?this.IPCWindowControl("maximize"):this.IPCWindowControl("restore")}}]),a}(n.a.Component)),T=(a(108),a(170)),W=a(173),D=a(169),U=a(168),A=a(167),J=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).props=e,i.closeCallback=e.closeCallback,i.registerCallback=e.registerCallback,i.recoverCallback=e.recoverCallback,i}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(W.a,{open:this.props.open,onClose:this.closeCallback,"aria-labelledby":"form-dialog-title"},n.a.createElement(A.a,{id:"form-dialog-title"},"\u767b\u5f55"),n.a.createElement(U.a,{dividers:!0},n.a.createElement(T.a,{margin:"dense",id:"email",label:"\u90ae\u7bb1\u5730\u5740",type:"email",fullWidth:!0,variant:"outlined"}),n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u5bc6\u7801",type:"password",fullWidth:!0,variant:"outlined"})),n.a.createElement(D.a,null,n.a.createElement(v.a,{onClick:this.closeCallback,color:"primary"},"\u767b\u5f55"),n.a.createElement(v.a,{onClick:function(){e.closeCallback(),e.registerCallback()},color:"primary"},"\u6ce8\u518c"),n.a.createElement(v.a,{onClick:function(){e.closeCallback(),e.recoverCallback()},color:"primary"},"\u5fd8\u8bb0\u5bc6\u7801")))}}]),a}(n.a.Component),V=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).props=e,i.closeCallback=e.closeCallback,i}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(W.a,{open:this.props.open,onClose:this.closeCallback,"aria-labelledby":"form-dialog-title"},n.a.createElement(A.a,{id:"form-dialog-title"},"\u627e\u56de\u5bc6\u7801"),n.a.createElement(U.a,{dividers:!0},n.a.createElement(T.a,{margin:"dense",id:"email",label:"\u90ae\u7bb1\u5730\u5740",type:"email",fullWidth:!0,variant:"outlined"}),n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u5bc6\u7801",type:"password",fullWidth:!0,variant:"outlined"}),n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u786e\u8ba4\u5bc6\u7801",type:"password",fullWidth:!0,variant:"outlined"}),n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u8ba4\u8bc1\u7801",type:"text",fullWidth:!0,variant:"outlined"})),n.a.createElement(D.a,null,n.a.createElement(v.a,{onClick:this.closeCallback,color:"primary"},"\u91cd\u7f6e\u5bc6\u7801")))}}]),a}(n.a.Component),$=a(176),G=(a(109),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).props=e,i.closeCallback=e.closeCallback,i.state={emailCheckFailed:!1,emailHint:"\u4ec5\u652f\u6301\u817e\u8baf\uff0c\u7f51\u6613\uff0c\u65b0\u6d6a\uff0c\u8c37\u6b4c\u90ae\u7bb1",email_notice_style:"register-form-input-hint",nickCheckFailed:!1,nickHint:"\u5c0f\u4e8e10\u4e2a\u5b57\u7b26",nick_notice_style:"register-form-input-hint",passwordCheckFailed:!1,passwordHint:"\u957f\u5ea6\u4e3a8-15\u4f4d\uff0c\u9700\u5305\u542b\u5b57\u6bcd\u548c\u6570\u5b57\uff0c\u53ef\u6dfb\u52a0\u4e0b\u5212\u7ebf",password_notice_style:"register-form-input-hint",repasswordCheckFailed:!1,repasswordHint:"",repassword_notice_style:"register-form-input-hint",accessCodeCheckFailed:!1,accesscodeHint:"",accessCode_notice_style:"register-form-input-hint",inviteCodeCheckFailed:!1,inviteCodeHint:"\u5f53\u524d\u6ce8\u518c\u9700\u8981\u4f7f\u7528\u9080\u8bf7\u7801",inviteCode_notice_style:"register-form-input-hint"},i}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement(W.a,{open:this.props.open,onClose:this.closeCallback,"aria-labelledby":"form-dialog-title",maxWidth:"md"},n.a.createElement(A.a,{id:"form-dialog-title"},"\u6ce8\u518c"),n.a.createElement(U.a,{style:{overflow:"unset"},dividers:!0},n.a.createElement("div",{className:"register-form-input-region"},n.a.createElement(T.a,{className:"register-form-input",margin:"dense",id:"email",label:"\u90ae\u7bb1\u5730\u5740",type:"email",onBlur:this.emailCheckCallback.bind(this),error:this.state.emailCheckFailed,variant:"outlined"}),n.a.createElement($.a,{className:this.state.email_notice_style,variant:"filled"},this.state.emailHint)),n.a.createElement("div",{className:"register-form-input-region"},n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u6635\u79f0",type:"text",onBlur:this.emailCheckCallback.bind(this),error:this.state.nickcheckFailed,variant:"outlined"}),n.a.createElement($.a,{className:this.state.nick_notice_style,variant:"filled"},this.state.nickHint)),n.a.createElement("div",{className:"register-form-input-region"},n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u5bc6\u7801",type:"password",onBlur:this.emailCheckCallback.bind(this),error:this.state.passwordCheckFailed,variant:"outlined"}),n.a.createElement($.a,{className:this.state.password_notice_style,variant:"filled"},this.state.passwordHint)),n.a.createElement("div",{className:"register-form-input-region"},n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u786e\u8ba4\u5bc6\u7801",type:"password",onBlur:this.emailCheckCallback.bind(this),error:this.state.repasswordCheckFailed,variant:"outlined"}),n.a.createElement($.a,{className:this.state.repassword_notice_style,variant:"filled"},this.state.repasswordHint)),n.a.createElement("div",{className:"register-form-input-region"},n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u8ba4\u8bc1\u7801",type:"text",onBlur:this.emailCheckCallback.bind(this),error:this.state.accessCodeCheckFailed,variant:"outlined"}),n.a.createElement(v.a,{style:{margin:"auto 0px auto 42px",height:36},color:"primary",variant:"contained"},"\u53d1\u9001\u9a8c\u8bc1\u7801"),n.a.createElement($.a,{className:this.state.accesscode_notice_style,variant:"filled"},this.state.accesscodeHint)),n.a.createElement("div",{className:"register-form-input-region"},n.a.createElement(T.a,{margin:"dense",id:"password",label:"\u9080\u8bf7\u7801",type:"text",onBlur:this.emailCheckCallback.bind(this),error:this.state.inviteCodeCheckFailed,variant:"outlined"}),n.a.createElement($.a,{className:this.state.inviteCode_notice_style,variant:"filled"},this.state.inviteCodeHint))),n.a.createElement(D.a,null,n.a.createElement(v.a,{onClick:this.closeCallback,color:"primary"},"\u63d0\u4ea4")))}},{key:"emailCheckCallback",value:function(){this.setState({emailcheckFailed:!0,emailHint:"worked."})}}]),a}(n.a.Component)),Q=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).state={showLoginForm:!1,showRegisterForm:!1,showRecoverForm:!1},i}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{id:"title-bar-user-region"},n.a.createElement(v.a,{className:"title-bar-user-region-loginbtn",onClick:this.openLoginForm.bind(this)},"\u70b9\u51fb\u767b\u5f55"),n.a.createElement(J,{open:this.state.showLoginForm,closeCallback:this.closeLoginForm.bind(this),registerCallback:this.openRegisterForm.bind(this),recoverCallback:this.openRecoverForm.bind(this)}),n.a.createElement(G,{open:this.state.showRegisterForm,closeCallback:this.closeRegisterForm.bind(this)}),n.a.createElement(V,{open:this.state.showRecoverForm,closeCallback:this.closeRecoverForm.bind(this)}))}},{key:"componentDidMount",value:function(){}},{key:"openLoginForm",value:function(){this.setState({showLoginForm:!0})}},{key:"closeLoginForm",value:function(){this.setState({showLoginForm:!1})}},{key:"openRegisterForm",value:function(){this.setState({showRegisterForm:!0})}},{key:"closeRegisterForm",value:function(){this.setState({showRegisterForm:!1})}},{key:"openRecoverForm",value:function(){this.setState({showRecoverForm:!0})}},{key:"closeRecoverForm",value:function(){this.setState({showRecoverForm:!1})}}]),a}(n.a.Component),K=(a(110),function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"top-title-bar"},n.a.createElement("div",{className:"top-title-bar-padding"}),n.a.createElement(Q,null),n.a.createElement("div",{className:"top-title-bar-function-padding"}),n.a.createElement(H,null))}}]),a}(n.a.Component)),X=a(175),Y=a(4),Z=(a(111),a(79)),ee=a.n(Z),te=a(80),ae=a.n(te),ie=a(58),ne=a.n(ie),le=a(59),se=a.n(le),re=a(82),oe=a.n(re),ce=a(81),me=a.n(ce),ue=a(78),de=a.n(ue),he=(a(112),Object(Y.a)({root:{color:"#52af77",paddingTop:8,paddingBottom:8},thumb:{height:4,width:16,backgroundColor:"#52af77",border:"2px solid",borderRadius:0,"&:focus, &:hover, &$active":{boxShadow:"inherit"}},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{borderRadius:4},rail:{borderRadius:4,opacity:1,backgroundColor:"#e3e3e3"}})(X.a)),pe=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).props=e,i}return Object(o.a)(a,[{key:"render",value:function(){var e={display:this.props.open?"unset":"none"};return n.a.createElement("div",{className:"volume-panel-wrap",style:e},n.a.createElement(he,{className:"volume-slider",value:this.props.value,classes:{thumb:"fuck-volume-bar-property"},onChange:this.props.onChange,orientation:"vertical"}))}}]),a}(n.a.Component),ve=(window.require("https"),window.require("http"),window.require("fs"),window.require("electron").remote.require("./heiMusicConfig")),be=window.require("electron").ipcRenderer,ye=Object(Y.a)({root:{color:"#52af77",marginTop:-3,paddingTop:3,paddingBottom:0,height:2},thumb:{height:0,width:0,backgroundColor:"#52af77",marginTop:-4,marginLeft:-4,"&:focus, &:hover, &$active":{boxShadow:"inherit"},display:"hidden"},active:{},valueLabel:{left:"calc(-50% + 4px)"},track:{height:2,borderRadius:4},rail:{height:2,borderRadius:4,opacity:1,backgroundColor:"#e3e3e3"}})(X.a),fe=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){var i;return Object(r.a)(this,a),(i=t.call(this,e)).audio=new Audio,i.audioInfo={},i.state={progress:0,music_cover_url:_.a.toString(),music_name:"\u58a8\u732b\u97f3\u4e50",music_singer:"author: inkneko.",playBtnIcon:n.a.createElement(ne.a,{style:{fontSize:42}}),qulity:"",qulityColor:"black",volumePanelOpen:!1,volume:35},i.playlist=[],i.currentTid=null,i.currentPlayIndex=null,i}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"music-player-panel"},n.a.createElement(ye,{value:this.state.progress,step:.1,onChange:this.OnSliderChange.bind(this),style:{width:"100%"}}),n.a.createElement("div",{className:"music-player-panel-wrapper"},n.a.createElement("div",{className:"music-info"},n.a.createElement(b.a,{className:"music-player-album-cover",variant:"square",src:this.state.music_cover_url},n.a.createElement(_.a,null)),n.a.createElement("div",{className:"music-info-text-wrapper"},n.a.createElement("div",{className:"music-info-name"},this.state.music_name),n.a.createElement("div",{className:"music-info-singer"},this.state.music_singer))),n.a.createElement("div",{className:"music-control"},n.a.createElement(S.a,{className:"music_control-aside-btn"},n.a.createElement(de.a,{style:{fontSize:24}})),n.a.createElement(S.a,{className:"music_control-skip-btn",onClick:this.PlayPrevious.bind(this)},n.a.createElement(ee.a,{style:{fontSize:34}})),n.a.createElement(S.a,{className:"music_control-play-btn",onClick:this.OnPauseEvent.bind(this)},this.state.playBtnIcon),n.a.createElement(S.a,{className:"music_control-skip-btn",onClick:this.PlayNext.bind(this)},n.a.createElement(ae.a,{style:{fontSize:34}})),n.a.createElement(pe,{open:this.state.volumePanelOpen,value:this.state.volume,onChange:this.OnVolumeSliderChange.bind(this)}),n.a.createElement(S.a,{className:"music_control-volume-btn",onClick:this.VolumePanelEvent.bind(this)},n.a.createElement(me.a,{style:{fontSize:24}}))),n.a.createElement("div",{className:"music-misc-panel"},n.a.createElement("div",{className:"misc-panel-duration"},this.state.durationLabel),n.a.createElement("div",{className:"misc-panel-qulity-info",style:{color:this.state.qulityColor}},this.state.qulity),n.a.createElement(S.a,{className:"misc-panel-playing-list-btn"},n.a.createElement(oe.a,{style:{fontSize:24}})))))}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("MusicPlayerListener",this.MusicPlayerListener.bind(this)),this.audio.onended=this.PlayEndEvent.bind(this),be.on("music-player-hotkey-callback",(function(t,a){switch(a.action){case"pause":e.OnPauseEvent();break;case"next":e.PlayNext();break;case"privious":e.PlayPrevious()}})),be.on("music-player-saveHistory-callback",(function(t,a){ve.saveHistory(e.currentTid,e.playlist,e.currentPlayIndex,e.audio.currentTime),be.sendSync("window-control",{action:"quit"})}));ve.getHistory()}},{key:"VolumePanelEvent",value:function(){this.setState({volumePanelOpen:!this.state.volumePanelOpen})}},{key:"OnPauseEvent",value:function(){""!==this.audio.src&&(!0===this.audio.paused?(this.audio.play(),this.setState({playBtnIcon:n.a.createElement(se.a,{style:{fontSize:42}})})):(this.audio.pause(),this.setState({playBtnIcon:n.a.createElement(ne.a,{style:{fontSize:42}})})))}},{key:"PlayPrevious",value:function(){null!=this.currentTid&&(0===this.currentPlayIndex?this.currentPlayIndex=this.playlist.length-1:this.currentPlayIndex-=1,this.PlayMusic(this.playlist[this.currentPlayIndex]))}},{key:"PlayNext",value:function(){null!=this.currentTid&&(this.currentPlayIndex===this.playlist.length-1?this.currentPlayIndex=0:this.currentPlayIndex+=1,this.PlayMusic(this.playlist[this.currentPlayIndex]))}},{key:"MusicPlayerListener",value:function(e){this.currentTid!==e.tid&&(this.playlist=e.list,this.currentTid=e.tid),this.currentPlayIndex=e.index,this.PlayMusic(e.list[e.index])}},{key:"setAudio",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.audio.src=e,this.audio.ontimeupdate=function(){var e=Math.floor(this.audio.currentTime/60),t=Math.floor(this.audio.currentTime%60);e=e>9?e:"0"+e,t=t>9?t:"0"+t;var a=Math.floor(this.audio.duration/60),i=Math.floor(this.audio.duration%60);a=a>9?a:"0"+a,i=i>9?i:"0"+i,this.setState({progress:this.audio.currentTime/this.audio.duration*100,durationLabel:"".concat(e,":").concat(t," / ").concat(a,":").concat(i)})}.bind(this),this.audio.onloadedmetadata=function(){this.audio.currentTime=t}.bind(this),this.audio.volume=this.state.volume/100,!0===a&&(this.audio.play(),this.setState({playBtnIcon:n.a.createElement(se.a,{style:{fontSize:42}})}))}},{key:"PlayEndEvent",value:function(){this.currentPlayIndex===this.playlist.length-1?this.currentPlayIndex=0:this.currentPlayIndex+=1,this.PlayMusic(this.playlist[this.currentPlayIndex])}},{key:"PlayMusic",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];console.log(e),this.audioInfo={song_cover_pmid:e.album_ptid,song_name:e.song_name,singer:e.singer,duration:null};var i="none",n="orange",l=e.file.media_fid;i="HQ",n="rgb(78, 140, 151)",this.setState({music_cover_url:"http://music.inkneko.com/music_base/dimension_tripper.jpg",music_name:e.song_name,music_singer:e.singer}),this.setState({qulity:i,qulityColor:n});var s="http://music.inkneko.com/music_base/".concat(l,".mp3");this.setAudio(s,t,a)}},{key:"OnSliderChange",value:function(e,t){""!==this.audio.src&&(this.setState({progress:t}),this.audio.currentTime=this.audio.duration*(t/100),!0===this.audio.paused&&this.OnPauseEvent())}},{key:"OnVolumeSliderChange",value:function(e,t){this.setState({volume:t}),this.audio.volume=t/100}}]),a}(n.a.Component),ge=function(e){Object(c.a)(a,e);var t=Object(m.a)(a);function a(e){return Object(r.a)(this,a),t.call(this,e)}return Object(o.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"app-main-frame"},n.a.createElement("div",{className:"left-control-panel"},n.a.createElement(P,null)),n.a.createElement("div",{className:"display-page"},n.a.createElement(K,null),n.a.createElement("div",{id:"display-browser"}),n.a.createElement("div",{id:"music-player"},n.a.createElement(fe,null)),n.a.createElement("div",{id:"music-disk-page",style:{display:"hidden"}})))}}]),a}(n.a.Component);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(ge,null)),document.getElementsByTagName("body")[0]),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports=a(113)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.7cf24237.chunk.js.map